{% extends "base.html" %}
{% block title %}Create Ticket - HelpDesk Pro{% endblock %}
{% block page_title %}Submit New Ticket{% endblock %}
{% block content %}
<div style="max-width: 800px;">
    <div class="card">
        <div class="card-header"><h3 class="card-title"><i class="fas fa-plus-circle"></i> New Support Request</h3></div>
        <div class="card-body">
            <form method="POST">
                <div class="form-group"><label class="form-label">Subject *</label><input type="text" name="subject" class="form-control" placeholder="Brief description of your issue" required maxlength="200"></div>
                <div class="form-group"><label class="form-label">Description *</label><textarea name="description" class="form-control" placeholder="Please provide as much detail as possible..." required rows="6"></textarea></div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                    <div class="form-group"><label class="form-label">Category *</label><select name="category" class="form-control" required><option value="">Select a category</option>{% for cat in categories %}<option value="{{ cat }}">{{ cat }}</option>{% endfor %}</select></div>
                    <div class="form-group"><label class="form-label">Priority</label><select name="priority" class="form-control"><option value="Low">Low</option><option value="Medium" selected>Medium</option><option value="High">High</option><option value="Critical">Critical</option></select></div>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                    <div class="form-group"><label class="form-label">Contact Method</label><select name="contact_method" class="form-control"><option value="Email">Email</option><option value="Phone">Phone</option><option value="Teams">Teams</option></select></div>
                    <div class="form-group"><label class="form-label">Location</label><input type="text" name="location" class="form-control" placeholder="Building, floor, desk"></div>
                </div>
                <div class="form-group"><label class="form-label">Asset Tag (if applicable)</label><input type="text" name="asset_tag" class="form-control" placeholder="Found on sticker on your device"></div>
                <div style="display: flex; gap: 1rem; margin-top: 1.5rem;"><button type="submit" class="btn btn-primary"><i class="fas fa-paper-plane"></i> Submit Ticket</button><a href="{{ url_for('dashboard') }}" class="btn btn-secondary">Cancel</a></div>
            </form>
        </div>
    </div>
</div>
{% endblock %}